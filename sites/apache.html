<!DOCTYPE html>
<!--
	Binary by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
  <head>
    <!--Poner el titulo de la clase-->
    <title>Apache Cordova</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../assets/css/main.css" />

    <style media="screen">


       body .back{
        background-image: url(../images/apache/fondo.png);
       background-repeat: no-repeat;
       background-size: 100%;
       background-attachment: fixed;
       padding-top: 50px;
       padding-bottom: 40px;
       padding-left: 40px;
       padding-right: 60px;


      }

      dt{
         color: #FFFFFF/*#4F4D52*/;
      }
      ul, li{
         padding-left: 40px;
      }
      .uno{
        background-color: rgba(255, 255, 255, 0.93);
        color:black;
        padding:20px;
      }


      .uno h3{
        color: #2D89BB;
      }



    body{
      text-align: justify;
    }
    </style>



  </head>
  <body>
    <!-- Header -->
    <header id="header">
      <a href="../index.html" class="logo"
        ><strong>Aplicaciones Móviles</strong></a
      >
    </header>

    <div>
      <a
        href="process 2 plano.html"
        style="float: left; background-color: black; padding: 1rem"
        >Anterior</a
      >
      <a
        href="../index.html"
        style="float: right; background-color: black; padding: 1rem"
        >Siguiente</a
      >
    </div>
    <!-- Main -->
    <section id="main">
      <div class="inner">
        <!--Usar el siguiente div para poner imagenes en el doc-->
        <div class="image fit">
          <center><img src="../images/apache/1.png" width="25%" alt="" height="290px" /></center>
        </div>
        <!--Poner toda la informacion de la clase-->
        <header>
          <!--Poner el titulo de la clase-->
          <h1>Apache Cordova</h1>
          <!--Poner fecha de la clase-->
          <p class="info">8 de Febrero de 2021</p>
        </header>
        <!--Ingresar toda la informacion necesaria usando las diferentes etiquetas-->

        <div class="back">




            <div class="uno">

<h2>¿Qué es Apache Cordova?</h2>
<p>La tecnología Apache Cordova (anteriormente conocida como PhoneGap) permite compilar un único código Web (con HTML, CSS, JavaScript, etc.) como si fuera una aplicación nativa para móvil. Es decir, con un solo desarrollo web es posible obtener aplicaciones nativas para diferentes plataformas destino como Android, iOS, Windows Phone, etc.
</p>

<p>Esta herramienta además nos da acceso a los sensores y características nativas de los dispositivos móviles, como por ejemplo el GPS, acelerómetros, brújula, cámara, etc.
</p>

<p>La librería Apache Cordova se gestiona de forma muy sencilla mediante línea de comandos, dispone además de un fichero centralizado de configuración de nuestra aplicación, y la posibilidad de instalar multitud de plugins para el acceso a sensores o la ampliación de funcionalidad.
</p>

<p>Apache Cordova es un framework de código abierto para el desarrollo de aplicaciones para móviles. Su principal característica es ser multiplataforma, es decir, con un solo código de aplicación podemos utilizarlo en multitud de plataformas móviles, como Android, iOS o Windows Phone.
</p>

<h2>Un poco de su historia</h2>

<p>Inicialmente Apache Cordova era conocido como PhoneGap, el cual fue desarrollado por Nitobi bajo licencia de software libre. En Octubre de 2011 Adobe anunció oficialmente la adquisición de Nitobi, pasando así PhoneGap al control del gigante del software. Esto generó una gran incertidumbre entre los desarrolladores, pues el framework podía pasar a ser una tecnología propietaria, pero en una genial estrategia, Adobe donó el código de PhoneGap a la fundación Apache, conservando de esta forma la integridad libre de PhoneGap, y dando origen a Apanche Cordova.
</p>

<p>En la actualidad ambos proyectos son mantenidos y tienen sitios webs distintos, aunque en la práctica son el mismo producto. Las únicas diferencias que podríamos destacar son que Phonegap incluye algunos servicios o complementos más de Adobe, por lo que Adobe podría decidir cobrar. Además Cordova es la versión base y la que primero publica las actualizaciones. En este libro nos centraremos en Cordova, ya que al ser software libre es la que suelen adoptar otros frameworks de desarrollo de aplicaciones Web para móviles.
</p>

<p>El núcleo de las aplicaciones se crea utilizando lenguajes de programación Web, como JavaScript, HTML5, CSS3, y con la ayuda de otros frameworks de desarrollo y de la propia API de Cordova. Esta API nos permite acceder mediante código JavaScript a características nativas del móvil, como por ejemplo: Acelerómetro, cámara, contactos, eventos, geolocalización, redes o almacenamiento.</p>


<p>Posteriormente, y para cada una de las plataformas móviles para las que queramos generar nuestra aplicación, tendremos que incluir este núcleo Web como parte de la aplicación nativa. De esta forma podremos generar una aplicación "nativa" para cada plataforma móvil aprovechando para todas ellas el mismo núcleo de la aplicación.
</p>


<p>Las aplicaciones desarrolladas con Apache Cordova se consideran aplicaciones híbridas. Una aplicación es híbrida cuando es una aplicación nativa con una capa intermedia de herramientas que hacen uso de otros lenguajes de programación. Por el contrario se considera nativa cuando ha sido desarrollada íntegramente utilizando la API y lenguaje de programación que proporciona la compañía que vende el producto. Esta técnica de programación tiene varias ventajas: el usuario sentirá que la aplicación es parte del sistema operativo, nos permitirá distribuir la aplicación como una aplicación nativa, y además nos ahorrará muchísimo trabajo.
</p>


<h2>Cómo trabaja Apache Cordova</h2>

<p>El esquema básico de funcionamiento de Cordova es el siguiente:
</p>
<ul>
  <li>Construir la aplicación usando estándares Web: HTML, HTML 5, CSS, CSS3, JavaScript o haciendo uso de otros frameworks para el desarrollo de aplicaciones Web.
</li>
  <li>Combinar la aplicación Web con Cordova, esto nos dará acceso a las características nativas de los dispositivos móviles.
</li>
  <li>Configurar la aplicación en cada una de las plataformas para las que queramos generar la aplicación nativa.
</li>

</ul>

<p>A continuación se incluye un esquema de este proceso:

</p>

  <center><img src="../images/apache/2.png" width="800px" alt=""/></center>

<p>Es importante utilizar estándares web para que nuestra aplicación funcione en la mayoría de dispositivos móviles. Para el desarrollo de la aplicación, además de poder utilizar lenguajes de programación web HTML 5, CSS 3 y JavaScript, también soporta perfectamente el uso de frameworks de desarrollo web móvil como: Twitter Bootstrap, jQuery Mobile, Sencha Touch, Dojo, jQTouch, SprountCore, GloveBox, XUI, iScroll, entre otros.
</p>

<p>Además, a través de la librería de Cordova se nos brindará el acceso desde la aplicación web a las diferentes características nativas o hardware de los dispositivos móviles, como por ejemplo el acelerómetro, la cámara, brújula, etc.
</p>

<h2>Soporte</h2>

<p>Con Cordova es posible desarrollar aplicaciones para los siguientes sistemas operativos para móviles:</p>
<ul>
  <li>Android</li>
  <li>iOS</li>
  <li>Blackberry 10</li>
  <li>WP8</li>
  <li>Ubuntu</li>
  <li>Windows</li>
  <li>OS X</li>


</ul>

<p>Permite el acceso a las características nativas o hardware de todas estas plataformas a través de una API en JavaScript que se comunica con el dispositivo. Las características a las que nos permite acceder son:
</p>

<ul>
  <li>Acelerómetro</li>
  <li>Estado de la batería</li>
  <li>Cámara</li>
  <li>Brújula</li>
  <li>Estado de la conexión</li>
  <li>Contactos</li>
  <li>Datos del dispositivo</li>
  <li>Eventos</li>
  <li>Gestión de archivos</li>
  <li>Geolocalización</li>
  <li>Navegador</li>
  <li>Contenido multimedia</li>
  <li>Sistema de notificaciones</li>
  <li>Pantalla de bienvenida o Splashscreen</li>
  <li>Almacenamiento</li>
  <li>Vibrador</li>

</ul>

<p>Sin embargo, no todas las plataformas soportan el acceso a todas las características nativas desde una aplicación de este tipo. Los principales sistemas operativos para móvil actuales (Android, iOS, WP) no presentan apenas problemas (aunque sí algunas particularidades de configuración), pero otros como Tizen o Firefox OS no permiten el acceso completo.
</p>


<h2>Instalación</h2>
<p>Entramos a la página de Cordova y hacemos click en "Documentation > Overview > Installing Cordova". Como observaremos, a partir de la versión 3.0, Cordova cambió y ya se puede instalar como un módulo de Node.Js, para poder crear mediante la línea de comandos la estructura de nuestras aplicaciones y posteriormente compilarlas. Por lo tanto, en primer lugar vamos a ver cómo instalar Node.Js y después veremos cómo añadir Cordova.
</p>

<h2>Instalación de Node.Js
</h2>

<p>Si no tenemos instalado Node.Js entraremos a la página http://nodejs.org/ para descargarlo. La web automáticamente reconocerá nuestro Sistema Operativo y procederá a bajar la última versión disponible. En caso de que no lo hiciera correctamente podremos elegir la versión que deseemos desde la sección de "Descargas".
</p>
<p>Los pasos para la instalación también dependerán de nuestro sistema operativo:
</p>

<ul>
  <li>En Mac se nos descargará un fichero "pkg" que podremos instalar simplemente haciendo doble clic sobre él.
</li>
<li>En Windows podemos descargar un instalador tipo "msi", el cual se instalará haciendo doble clic sobre el mismo.
</li>
<li>En Linux se nos descargará un fichero comprimido que tendremos que descomprimir, abrir una consola, acceder a la carpeta con el contenido descomprimido, y ejecutar los siguientes comandos para compilar e instalar la librería:
</li>
<br>
  <center><img src="../images/apache/3.jpg" width="600px" alt=""/></center>

</ul>

<p>Además, si al compilar nos indicará que no encuentra Python tendremos que comprobar que esté correctamente instalado y que lo encuentre en el PATH: export PYTHON=/path/to/python. También es posible que nos diese error por cuestión de permisos al realizar la instalación.
</p>

<h2>Instalación de Cordova</h2>

<p>Una vez instalado Node.Js procederemos a descargar Cordova. Para esto abrimos una consola (o en Windows la consola de Node.Js llamada "Node.js command prompt") y ejecutamos:
</p>
  <center><img src="../images/apache/4.jpg" width="600px" alt=""/></center>
  <br>

  <p>Este comando descargará e instalará automáticamente Cordova. Una vez completado el proceso podemos comprobar que esté correctamente instalado ejecutando el comando cordova, el cual debería mostrar una salida similar a la siguiente:
</p>
  <center><img src="../images/apache/5.jpg" width="600px" alt=""/></center>
  <br>

  <h2>Línea de comandos
</h2>

<p>Una vez tenemos instalado Node.Js y Cordova ya podemos crear nuestra primera aplicación. Pero para ello antes debemos conocer el funcionamiento de la interfaz de línea de comandos (CLI) de Cordova, el cual utilizaremos para realizar muchas operaciones, como por ejemplo crear nuevos proyectos, compilar, ejecutar, emular, etc.
</p>


<h2>Ayuda</h2>

<p>Para obtener ayuda de todos los comandos disponibles y su sintaxis tenemos que ejecutar:
</p>
<center><img src="../images/apache/6.jpg" width="600px" alt=""/></center>
<br>

<p>Si queremos ver la ayuda detallada sobre un comando usaremos:
</p>
<center><img src="../images/apache/7.jpg" width="600px" alt=""/></center>
<br>

<h2>Información detallada sobre un proyecto
</h2>

<p>Si queremos obtener un informe con toda la información detallada de un proyecto podemos ejecutar el siguiente comando:
</p>
<center><img src="../images/apache/8.jpg" width="600px" alt=""/></center>
<br>
<p>Este comando solo funcionará dentro de proyectos de Cordova o Phonegap, por lo que nos dará error si lo ejecutamos en una carpeta que no contiene ningún proyecto. Al ejecutarlo nos mostrará la versión de Cordova y de Node.Js del proyecto, así como el fichero de configuración, y el listado de plugins y plataformas instaladas. Toda esta información también la guardará en el fichero "info.txt" en la misma carpeta.
</p>

<h2>Crear una aplicación
</h2>

<p>Para crear una nueva aplicación abriremos una consola (o en Windows la consola de Node.Js llamada "Node.js command prompt") y ejecutamos el siguiente comando:
</p>
<center><img src="../images/apache/9.jpg" width="600px" alt=""/></center>
<br>

<p>Donde:</p>
<ul>
  <li>El primer argumento, "myapp", es el nombre de la carpeta donde se generará el contenido. Si el directorio no existe se creará automáticamente.
</li>

<li>El segundo argumento, "com.example.myapp", es el nombre del paquete del proyecto usado como identificador. Este argumento es opcional y se puede modificar después desde el fichero "config.xml" (pero hay que llevar cuidado ya que se utiliza en el código generado, como en el nombre de los paquetes de Java). El valor por defecto es "com.cordova.helloworld", por lo que se recomienda asignarle un valor apropiado. Normalmente se suele utilizar el nombre de dominio de la organización pero en orden inverso y añadiendo el nombre de la aplicación. Este nombre no puede contener espacios ni números después de punto.
</li>

<li>El tercer argumento, "HelloWorld", es el nombre del proyecto que se generará para las distintas plataformas (por ejemplo, el nombre del proyecto que se abrirá en Android Studio o XCode). Este argumento es opcional y también se puede modificar después desde el fichero "config.xml" (pero hay que llevar cuidado ya que se utiliza en el código generado). El valor por defecto es "HelloWorld", por lo que se recomienda indicar un valor adecuado. Este nombre no puede contener espacios y debe de empezar con mayúsculas.</li>

</ul>

<p>Al ejecutar este comando se creará una carpeta con el nombre que le hayamos indicado, "myapp" en este caso, con todo el contenido necesario para empezar a desarrollar nuestra aplicación. La estructura de carpetas generada es la siguiente:
</p>
<ul style="text-align: justify">
  <li>hooks - Esta carpeta se utiliza para añadir scripts que se ejecutarán cuando se produzcan determinados eventos</li>
  <li>merges - Esta carpeta se utiliza para añadir código que nos permitirá modificar o personalizar nuestra aplicación para determinadas plataformas.</li>
  <li>platforms - Contiene el código específico de las plataformas para las cuales se va a compilar. </li>
  <li>plugings - Contiene los plugins o módulos instalados para nuestra aplicación</li>
  <li>res - Contiene los recursos de iconos y splashcreen para cada una de las plataformas de compilación.
</li>
  <li>www - Contiene el código fuente de nuestra aplicación web. Esta carpeta es donde tendremos que desarrollar nuestra aplicación web de forma centralizada. Posteriormente, al compilar nuestro proyecto para las plataformas deseadas, se copiará la última versión del contenido de esta carpeta.
</li></ul>

<h2>Gestión de plataformas</h2>

<p style="text-align: justify"> Antes de poder compilar el proyecto tenemos que especificar las plataformas para las cuales se va a generar. Las plataformas disponibles dependerán del sistema operativo que utilicemos, si soporta el SDK en cuestión o si lo tiene instalado (y si no lo tiene lo tendremos que instalar). En general soporta las siguientes combinaciones:
</p>
<center><img src="../images/apache/10.png" align=""/></center>

<h2>Añadir plataformas</h2>
<p>Para añadir una plataforma para la cual queremos compilar nuestro proyecto usaremos el siguiente comando:</p>
<center><img src="../images/apache/11.png" align=""/></center>
<p>Por ejemplo, en un Linux podremos añadir las siguientes plataformas a nuestro proyecto:</p>
<center><img src="../images/apache/12.png" align=""/></center>
<p>La plataforma "browser" es una plataforma especial (disponible en todos los sistemas operativos) que nos permitirá depurar nuestras aplicaciones en el navegador, no sólo mostrando la apariencia del código web sino también permitiéndonos usar algunos de los plugins que veremos más adelante.</p>
<h2>Listar plataformas</h2>
<p>Para obtener un listado con las plataformas disponibles para nuestro sistema operativo además de un listado con las plataformas que ya hemos añadido a nuestra aplicación tenemos que ejecutar el comando:</p>
<center><img src="../images/apache/13.png" align=""/></center>
<p>Lo que nos mostraría (en ambos casos) un resultado similar al siguiente:</p>
<center><img src="../images/apache/14.png" align=""/></center>
<h2>Eliminar una plataforma</h2>
<p>Para eliminar una plataforma añadida podemos ejecutar alguno de los siguientes comandos (los cuales son equivalentes):</p>
<center><img src="../images/apache/15.png" align=""/></center>
<h2>Contenido de la carpeta "platforms"</h2>
<p style="text-align:justify">Al añadir una plataforma o eliminarla, únicamente estamos trabajando sobre la carpeta "platforms" de nuestro proyecto. Al añadir una nueva se genera un subdirectorio con el nombre de la plataforma en cuestión, con el código fuente para esa plataforma. Cada vez que se compile o ejecute el proyecto se copiará el contenido de la carpeta "www" (la cual contiene el código de nuestro proyecto) a una subcarpeta de cada plataforma (borrando todo lo que hubiese en ella). Por ejemplo, para Android se copiaría en la ruta platforms/android/assets/www/ y para iOS en la ruta platforms/ios/www. <br> Por este motivo es importante que no modifiquemos el contenido de nuestro proyecto o aplicación directamente en la carpeta platforms, ya que se borrará en la siguiente compilación. Cualquier cambio que queramos hacer lo tendremos que realizar siempre dentro de la carpeta base www.
</p>

<h2>Actualización de Cordova</h2>
<p>Cuando queramos actualizar Cordova o cuando nos aparezca un mensaje como el de la siguiente figura, también podemos usar el Package Manager de Node.Js (npm).</p>
<center><img src="../images/apache/16.png" align=""/></center>
<p>Para ello simplemente tenemos que ejecutar la siguiente orden en una consola:</p>
<center><img src="../images/apache/17.jpg" align=""/></center>
<p>Después de ejecutar este comando es posible que tengamos que actualizar también las plataformas de nuestros proyectos. En este caso tendremos que situarnos dentro de la carpeta de cada proyecto que queramos actualizar y ejecutar los siguientes comandos para cada plataforma:
</p>
<center><img src="../images/apache/18.png" align=""/></center>
<h2>Compilar y probar una aplicación</h2>
<p>Para compilar un proyecto ejecutamos el comando:</p>
<center><img src="../images/apache/19.png" align=""/></center>
<p>Este comando solo lo podemos ejecutar dentro de la carpeta del proyecto a compilar y además tenemos que haber añadido las plataformas para las que queremos compilar previamente, en otro caso nos mostraría el error: Error: No platforms added to this project. Please use `cordova platform add platform. Este comando generará el código del proyecto para todas las plataformas que tengamos añadidas, en caso de querer compilar solamente para una plataforma lo podríamos indicar de la forma:
</p>
<center><img src="../images/apache/20.png" align=""/></center>
<p>El comando build en realidad realiza dos operaciones, que son las de preparar el código (copiar el código actual del proyecto desde la carpeta www a todas las plataformas destino) y compilarlo. Estos dos comandos también los podríamos ejecutar por separado:</p>
<center><img src="../images/apache/21.png" align=""/></center>
<h2>Probar una aplicación en un emulador o dispositivo real</h2>
<p>Cada SDK para una plataforma móvil suele incluir un emulador que permite probar las aplicaciones desarrolladas. Estos emuladores también se pueden llamar desde el CLI de Cordova mediante el siguiente comando:</p>
<center><img src="../images/apache/22.png" align=""/></center>
<p>Para que se abra el emulador correspondiente debe de estar bien configurado. Algunas plataformas ya traen uno por defecto (como iPhone), pero en otras será necesario configurar el emulador por defecto a utilizar (como en Android). Es importante que antes de llamar al emulador ejecutemos el comando build, el cual copiará la última versión de nuestro código, generará los proyectos correspondientes y los compilará. En otro caso podríamos tener errores. Por lo tanto, cuando actualicemos el código de "www" tendremos que llamar de nuevo a build y a emulate, el cual actualizará los emuladores abiertos con la última versión. </br> También podemos probar nuestro código en un dispositivo real mediante el comando:
</p>
<center><img src="../images/apache/23.png" align=""/></center>
<p>El comando run en realidad es una combinación de los comandos build (por lo que no haría falta llamarlo previamente) e install (el cual instala un proyecto en una plataforma). Por defecto run instala y ejecuta el proyecto en una plataforma real (lo cual podemos forzar mediante el parámetro --device), o también lo podemos utilizar para ejecutar en un emulador añadiendo el parámetro --emulator.
</br>Antes de ejecutar en un dispositivo real tenemos que configurarlo para permitir la instalación de aplicaciones de prueba. Este proceso varía para cada plataforma, por ejemplo, para Android tendremos que habilitar las opciones de desarrollador y la depuración a través de USB, además, dependiendo del sistema operativo que utilicemos, es posible que tengamos que instalar drivers o realizar alguna configuración adicional.
</p>
<h2>Probar en un navegador</h2>
<p>Es importante recordar también que podemos probar nuestra aplicación en un navegador. Para esto en primer lugar instalaremos la plataforma "browser" y a continuación ejecutaremos el comando:</p>
<center><img src="../images/apache/24.png" align=""/></center>
<h2>Configuración</h2>
<p>Cordova permite configurar nuestras aplicaciones desde un fichero centralizado para indicar, por ejemplo, el icono de la aplicación, una imagen o splashscreen de inicio, los plugins a utilizar, etc.</p>
<h2>Fichero de configuración</h2>
<p>En cada proyecto se incluye un fichero de configuración config.xml (situado en la carpeta raíz del proyecto) que nos permite establecer las principales opciones de configuración de nuestra aplicación de forma global (para todas las plataformas destino). Al compilar un proyecto (mediante el comando build o run del CLI) se crean versiones específicas de este fichero de configuración para cada plataforma, lo que nos permite establecer configuraciones más especializadas. La ruta donde el fichero es copiado varía dependiendo de la plataforma, por ejemplo:
</p>
<center><img src="../images/apache/25.png" align=""/></center>
<h2>Elementos de configuración principales</h2>

<p>A continuación se muestran las primeras líneas del fichero config.xml generado por defecto al crear un nuevo proyecto de Cordova. Esta configuración es compatible para todas las plataformas:
  <center><img src="../images/apache/a.JPG" alt=""></center>
</p>
<p>
  Donde:
  <ul>
    <li> <b>widget:</b> Su atributo id especifica el paquete de la aplicación (usando el reverse-domain-name), y su atributo version es el número completo de versión de la app (siguiendo la notación major/minor/patch, ver más información en la sección "Versión de la aplicación").</li>
    <li> <b>name:</b> Especifica el nombre del proyecto y de la app, es el que aparecería al instalar la app junto a su icono y en los markets</li>
    <li> <b>description y author:</b> Son metadatos e información de contacto que se utilizará al publicar la app en los markets.</li>
    <li> <b>content:</b> Es un atributo opcional para indicar la página inicial de nuestro código. Por defecto se utilizará index.html.</li>
    <li> <b>access:</b> Define un conjunto de dominios externos a los que se le permite acceder. Por defecto, al indicar * se le permite acceder a cualquier servidor. Para más información consultar la ayuda sobre Domain Whitelist.
    </li>
    <li> <b>allow-intent:</b> Controla las URLs que la aplicación puede pedir al sistema que abra. De forma predeterminada, no se permiten URLs externas. En el ejemplo superior se indica "...", pero por defecto se añadirán seis tipos de URLs permitidas: http, https, tel, sms, mailto y geo.</li>
    <li> <b>platform:</b> En el fichero de configuración por defecto también encontraremos dos sección "platform", las cuales nos sirven para indicar opciones de configuración específicas de una plataforma. En el ejemplo se añade un intent adicional para Android y otro para iOS.</li>
    <li> <b>engine:</b> Mediante esta etiqueta se indican las plataformas añadidas y la versión concreta que se ha instalado. Al crear un proyecto por defecto no aparecerá ninguna.</li>
    <li> <b>plugin:</b> La etiqueta plugin especifica los plugins instalados junto con su versión.</li>
  </ul>
</p>

<br>
<h2>Versión de la aplicación</h2>
<p>Tanto Android como iOS soportan una cadena con una nombre (o número) de versión alternativo además del que se utiliza en el market. En Android es el versionCode y en iOS el CFBundleVersion. A continuación se muestra como podemos establecer estas versiones en el config.xml:

  <center><img src="../images/apache/b.JPG" alt=""></center>
</p>

<br>
<h2>Almacenamiento</h2>
<p>
  Para el almacenamiento de la información la opción más sencilla es utilizar el "localStorage", que es una característica nativa de HTML 5. Esta utilidad nos permitirá almacenar datos tipo cadena con el formato de pares "clave / valor", es decir, usaremos una clave para indexar cada uno de los valores.
  <br>
  Podemos utilizar esta herramienta utilizando JavaScript desde cualquier parte de nuestro código. Simplemente tendremos que usar la variable "window.localStorage" y una serie de métodos para almacenar, recuperar o eliminar la información:

  <center><img src="../images/apache/c.JPG" alt=""></center>
  <br>
  Como podemos ver, esta herramienta nos permite almacenar nuestra información de forma muy sencilla, y además funcionará en todas las plataformas destino de Cordova. Como contrapartida podemos decir que solo permite almacenar cadenas (o datos serializados), que no es muy óptimo cuando queremos trabajar con muchos datos, y que tiene un límite de almacenamiento de 5MB.
</p>

<br>
<h2>Eventos</h2>
<p>
  La librería de Cordova incluye una serie de eventos JavaScript a los cuales podemos escuchar para lanzar determinadas acciones cuando se produzcan estos eventos. A continuación se incluye una tabla con la lista de los eventos incluidos por defecto en la librería y las plataformas que los soportan:
  <center><img src="../images/apache/d.JPG" alt=""></center>
</p>

<br>
<h2>Uso de eventos</h2>
<p>
  En general todos los eventos se utilizan de la misma forma: definiendo un listener en JavaScript que se lanzará cada vez que se produzca el evento. Sin embargo, para poder añadir este listener es importante que se haya terminado de cargar tanto el código web como la librería de Cordova, ya que en otro caso no funcionará.
  <br>
  Para esto añadiremos el evento "onload" a la etiqueta HTML "<body>", de la forma: <body onload="onLoad()">. Esto producirá que se llame a la función JavaScript "onLoad" cuando haya finalizado la carga. Dentro de esta función "onLoad" tendremos que añadir un listener al evento "deviceready" para esperar que se haya terminado de cargar la librería de Cordova.  El uso de este evento es esencial para cualquier aplicación con Cordova y lo tendremos que utilizar de forma inicial para asegurarnos de que la API se ha cargado completamente.

    <center><img src="../images/apache/e.JPG" alt=""></center>
    <br>
    Al ejecutar el código anterior en primer lugar se llamaría a la función "onLoad" cuando se termine de cargar la propia Web. Dentro de esta función se define el listener al evento "deviceready", el cual se lanzará cuando se haya terminado de cargar la librería de Cordova, llamando a la función "onDeviceReady". Una vez se ha cargado la API de Cordova ya podremos añadir listeners a los eventos que queramos. Para suscribirnos a un evento utilizaremos el siguiente código:
    <center><img src="../images/apache/f.JPG" alt=""></center>
</p>

<br>
<h2>Plugins</h2>
<p>Cordova, además de permitir encapsular aplicaciones Web y compilarlas como aplicaciones nativas para distintas plataformas móviles, nos brinda el acceso a características hardware de los dispositivos a través de su sistema de plugins. Por ejemplo tenemos disponibles plugins para trabajar con la cámara, brújula, geolocalización, etc.</p>

<br>
<h2>Buscar plugins</h2>
<p>En la dirección <a href="http://plugins.cordova.io">http://plugins.cordova.io</a> podemos consultar la lista completa de todos los plugins, incluyendo los que han sido desarrollados por la comunidad. Esta web nos permite buscar tanto por nombre como por descripción y además filtrar los resultados por plataforma, eligiendo por ejemplo que aparezcan sólo los disponibles para Android, o para Android e iOS.
  <br>
  Es posible utilizar el CLI de Cordova para buscar plugins en este registro. Por ejemplo, para buscar un plugin para códigos de barras usaríamos:

  <center><img src="../images/apache/g.JPG" alt=""></center>
  Al ejecutar este comando se abrirá una ventana del navegador con los resultados.
</p>

<br>
<h2>Añadir un plugin</h2>
<p>Para añadir un plugin a un proyecto simplemente tenemos que indicar el repositorio o nombre del plugin que deseemos y el sistema se encargará de descargarlo e instalarlo.

  <br>
  <h3>Acelerómetro, brújula y geolocalización:</h3>
  <center><img src="../images/apache/h.JPG" alt=""></center>

  <br>
  Los plugins se descargarán para las plataformas que tenga el proyecto actualmente instaladas. Si posteriormente se añaden más plataformas estos plugins se descargarán también de forma automática para la nueva plataforma.
  <br>
  Al instalar un plugin de forma automática también se actualizarán los permisos necesarios para cada plataforma. Por ejemplo, en Android se actualizará el Manifest para solicitar los permisos necesarios.

</p>

<br>
<h2>Eliminar un plugin</h2>
<p>
  Para eliminar un plugin simplemente tenemos que referirnos a él por el mismo nombre del paquete que utilizamos para su instalación (o que podemos ver si ejecutamos cordova plugin ls).

  <center><img src="../images/apache/i.JPG" alt=""></center>
</p>

<br>
<h2>Uso de la API de Cordova</h2>
<br>
<h2>Información del dispositivo (cordova-plugin-device)</h2>
<p>Este plugin permite obtener información del dispositivo, como el modelo, el sistema operativo, etc. Para su utilización tenemos que esperar que se cargue la API de Cordova y ya podremos acceder a estos valores a través de las propiedades de la variable "device"
  <center><img src="../images/apache/j.JPG" alt=""></center>

  <br>
  Las propiedades que podemos utilizar son:
  <ul>
    <li> <b>device.cordova:</b> Obtiene la versión de Cordova</li>
    <li> <b>device.model:</b> Obtiene el nombre o modelo del dispositivo.</li>
    <li> <b>device.platform:</b> Obtiene el nombre del sistema operativo.</li>
    <li> <b>device.uuid:</b> Devuelve el Universally Unique Identifier (UUID) del dispositivo.</li>
    <li> <b>device.version:</b> Obtiene la versión del sistema operativo utilizado.</li>
  </ul>
</p>

<br>
<h2>Información sobre la conexión (cordova-plugin-network-information)</h2>
<p>
  Este plugin proporciona información sobre el tipo de conexión a la red y además añade eventos para saber cuándo el dispositivo se conecta o se desconecta de la red.
  <br>
  Para obtener información sobre el tipo de conexión utilizamos el objeto connection.type, el cual podrá contener los siguientes valores indicando el tipo de conexión:
  <ul>
    <li>Connection.UNKNOWN</li>
    <li>Connection.ETHERNET</li>
    <li>Connection.WIFI</li>
    <li>Connection.CELL_2G</li>
    <li>Connection.CELL_3G</li>
    <li>Connection.CELL_4G</li>
    <li>Connection.CELL</li>
    <li>Connection.NONE</li>
  </ul>
  <br>
  A continuación se incluye un ejemplo de uso:
  <center><img src="../images/apache/k.JPG" alt=""></center>
</p>

<h2>Crear nuestra primera aplicación</h2>
<p>Instalado Node.Js y Cordova ya podemos crear nuestra primera aplicación. Para ello, y como se ha visto en secciones anteriores, tendríamos que ejecutar:
  <center><img src="../images/apache/l.JPG" alt=""></center>
  <br>
  Este comando creará una carpeta llamada myapp con las subcarpetas: hooks, platforms, plugins, res y www. La carpeta www es la que contendrá el código fuente de nuestra aplicación web, la cual por defecto incluye una aplicación "Hola Mundo" de ejemplo con las subcarpetas css, js e img con los recursos correspondientes. El nombre de estas carpetas y código son los que se utilizan de forma común en el desarrollo web, pero se pueden modificar como queramos.
 <br>
 Es importante destacar que todo el contenido que se incluya dentro de la carpeta www se copiarán dentro de las aplicaciones que se generen para cada plataforma.
 <br>
 El archivo "index.html" es el que se abrirá por defecto al iniciar nuestra aplicación. Este archivo, al igual que el resto de contenidos, se pueden modificar como queramos, incluso el nombre del html inicial, siempre que lo indiquemos en el fichero de configuración "config.xml".
 <br>
 El desarrollo de nuestra aplicación lo podemos realizar como queramos: con HTML nativo (con funcionalidades de HTML5, CSS3, JavaScript, etc.), o también podemos utilizar algunos de los frameworks existentes para el desarrollo de aplicaciones web para móviles, como por ejemplo:
 <center><img src="../images/apache/m.JPG" alt=""></center>
</p>
<h2>Visualización de nuestra aplicación</h2>
<p>Para ello, y como se ha visto en secciones anteriores, tendríamos que ejecutar:</p>
<center><img src="../images/apache/27.png" alt=""></center>
<p>Y en nuestro emulador nuestra interfaz se verá de la siguiente manera</p>
<center><img src="../images/apache/28.png" alt=""></center>






<br>






    </div>



      </div>
    </section>
    <div>
      <a
        href="process 2 plano.html"
        style="float: left; background-color: black; padding: 1rem"
        >Anterior</a
      >
      <a
        href="../index.html"
        style="float: right; background-color: black; padding: 1rem"
        >Siguiente</a
      >
    </div>
    <!-- Footer -->
    <footer id="footer">
      <p>
        Trabajo del curso de Aplicaciones Móviles <br />
        <small>Universidad UTE</small>
      </p>

      <div class="copyright">
        Design: <a href="https://templated.co">TEMPLATED</a>
      </div>
    </footer>


    <!-- Scripts -->

    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/jquery.scrolly.min.js"></script>
    <script src="../assets/js/skel.min.js"></script>
    <script src="../assets/js/util.js"></script>
    <script src="../assets/js/main.js"></script>

  </body>
</html>
